<!doctype html>
<html lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-alpha.75">
<link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="PyMarlin Blog RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="PyMarlin Blog Atom Feed"><title data-react-helmet="true">utils.checkpointer.checkpoint_utils | PyMarlin</title><meta data-react-helmet="true" property="og:url" content="https://github.com/microsoft/PyMarlin/docs/reference/utils/checkpointer/checkpoint_utils"><meta data-react-helmet="true" name="docusaurus_locale" content="en"><meta data-react-helmet="true" name="docusaurus_version" content="current"><meta data-react-helmet="true" name="docusaurus_tag" content="docs-default-current"><meta data-react-helmet="true" property="og:title" content="utils.checkpointer.checkpoint_utils | PyMarlin"><meta data-react-helmet="true" name="description" content="Checkpointer class and utility functions."><meta data-react-helmet="true" property="og:description" content="Checkpointer class and utility functions."><link data-react-helmet="true" rel="shortcut icon" href="/img/favicon.ico"><link data-react-helmet="true" rel="canonical" href="https://github.com/microsoft/PyMarlin/docs/reference/utils/checkpointer/checkpoint_utils"><link data-react-helmet="true" rel="alternate" href="https://github.com/microsoft/PyMarlin/docs/reference/utils/checkpointer/checkpoint_utils" hreflang="en"><link data-react-helmet="true" rel="alternate" href="https://github.com/microsoft/PyMarlin/docs/reference/utils/checkpointer/checkpoint_utils" hreflang="x-default"><link rel="stylesheet" href="/assets/css/styles.4339f032.css">
<link rel="preload" href="/assets/js/runtime~main.9b16cd66.js" as="script">
<link rel="preload" href="/assets/js/main.2fcd27a3.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div><a href="#main" class="skipToContent_1oUP">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle" type="button" tabindex="0"><svg aria-label="Menu" width="30" height="30" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><img src="/img/logo.svg" alt="My Site Logo" class="themedImage_1VuW themedImage--light_3UqQ navbar__logo"><img src="/img/logo.svg" alt="My Site Logo" class="themedImage_1VuW themedImage--dark_hz6m navbar__logo"><strong class="navbar__title">PyMarlin</strong></a><a class="navbar__item navbar__link" href="/docs/getting-started">Docs</a><a class="navbar__item navbar__link navbar__link--active" href="/docs/reference/core/module_interface">SDK</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/microsoft/PyMarlin" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub</a><div class="react-toggle displayOnlyInLargeViewport_GrZ2 react-toggle--disabled" role="button" tabindex="-1"><div class="react-toggle-track"><div class="react-toggle-track-check"><span class="toggle_71bT">ðŸŒœ</span></div><div class="react-toggle-track-x"><span class="toggle_71bT">ðŸŒž</span></div></div><div class="react-toggle-thumb"></div><input type="checkbox" class="react-toggle-screenreader-only" aria-label="Switch between dark and light mode"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div><div class="navbar-sidebar"><div class="navbar-sidebar__brand"><a class="navbar__brand" href="/"><img src="/img/logo.svg" alt="My Site Logo" class="themedImage_1VuW themedImage--light_3UqQ navbar__logo"><img src="/img/logo.svg" alt="My Site Logo" class="themedImage_1VuW themedImage--dark_hz6m navbar__logo"><strong class="navbar__title">PyMarlin</strong></a></div><div class="navbar-sidebar__items"><div class="menu"><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/docs/getting-started">Docs</a></li><li class="menu__list-item"><a class="menu__link navbar__link--active" href="/docs/reference/core/module_interface">SDK</a></li><li class="menu__list-item"><a href="https://github.com/microsoft/PyMarlin" target="_blank" rel="noopener noreferrer" class="menu__link">GitHub</a></li></ul></div></div></div></nav><div class="main-wrapper docs-wrapper doc-page"><div class="docPage_31aa"><div class="docSidebarContainer_3Kbt" role="complementary"><div class="sidebar_15mo"><div class="menu menu--responsive thin-scrollbar menu_Bmed"><button aria-label="Open menu" aria-haspopup="true" class="button button--secondary button--sm menu__button" type="button"><svg aria-label="Menu" class="sidebarMenuIcon_fgN0" width="24" height="24" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><ul class="menu__list"><li class="menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#!">Reference</a><ul class="menu__list"><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="0">core</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/reference/core/data_interface">data_interface</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/reference/core/module_interface">module_interface</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/reference/core/trainer">trainer</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/reference/core/trainer_backend">trainer_backend</a></li></ul></li><li class="menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#!" tabindex="0">utils</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#!" tabindex="0">utils.checkpointer</a><ul class="menu__list"><li class="menu__list-item"><a aria-current="page" class="menu__link menu__link--active active" tabindex="0" href="/docs/reference/utils/checkpointer/checkpoint_utils">checkpoint_utils</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="0">utils.config_parser</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/reference/utils/config_parser/custom_arg_parser">custom_arg_parser</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="0">utils.logger</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/reference/utils/logger/logging_utils">logging_utils</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="0">utils.misc</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/reference/utils/misc/misc_utils">misc_utils</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="0">utils.stats</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/reference/utils/stats/basic_stats">basic_stats</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="0">utils.writer</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/reference/utils/writer/__init__">writer</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/reference/utils/writer/aml">aml</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/reference/utils/writer/base">base</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/reference/utils/writer/stdout">stdout</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/reference/utils/writer/tensorboard">tensorboard</a></li></ul></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/reference/utils/distributed">distributed</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/reference/utils/fabrics">fabrics</a></li></ul></li></ul></li></ul></div></div></div><main class="docMainContainer_3ufF"><div class="container padding-vert--lg docItemWrapper_3FMP"><div class="row"><div class="col docItemCol_3FnS"><div class="docItemContainer_33ec"><article><header><h1 class="docTitle_3a4h">utils.checkpointer.checkpoint_utils</h1></header><div class="markdown"><p>Checkpointer class and utility functions.</p><p>Contains :class:<code>~.AbstractCheckpointer</code> class that can be extended and
passed along to :class:<code>~pymarlin.core.trainer.Trainer</code> for checkpointing. A default implementation
is provided via :class:<code>~.DefaultCheckpointer</code> in case no checkpointer is passed along to
:class:<code>~pymarlin.core.trainer.Trainer</code>.
Users can control the :class:<code>~.DefaultCheckpointer</code> behavior via the
:class:<code>~.DefaultCheckpointerArguments</code>,
and modify the arguments dataclass for their own checkpointers.</p><p>Here is an example of how to create your own checkpointer:</p><p>.. code-block:: python</p><h1><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="implement-a-dataclass-for-custom-checkpointer-arguments"></a>Implement a dataclass for custom checkpointer arguments<a class="hash-link" href="#implement-a-dataclass-for-custom-checkpointer-arguments" title="Direct link to heading">#</a></h1><p>@dataclass
class MyCheckpointerArguments:</p><h1><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="args-for-custom-checkpointer-class"></a>Args for custom checkpointer class.<a class="hash-link" href="#args-for-custom-checkpointer-class" title="Direct link to heading">#</a></h1><p>checkpoint: bool = True
save_dir: str = os.path.join(os.getcwd(), &quot;checkpoints&quot;)
model_state_save_dir: str = os.path.join(os.getcwd(), &quot;checkpoints&quot;)
load_dir: str = None
load_filename: str = None
file_prefix: str = &quot;checkpoint&quot;
file_ext: str = &quot;pt&quot;</p><h1><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="implement-abstractcheckpointer"></a>Implement AbstractCheckpointer<a class="hash-link" href="#implement-abstractcheckpointer" title="Direct link to heading">#</a></h1><p>class MyCheckpointer(AbstractCheckpointer):</p><p>def <strong>init</strong>(self, args):</p><h1><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="initialize-checkpointer-by-passing-along-args-for-user-configurations"></a>Initialize checkpointer by passing along args for user configurations<a class="hash-link" href="#initialize-checkpointer-by-passing-along-args-for-user-configurations" title="Direct link to heading">#</a></h1><h1><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="such-as-directory-to-load-or-save-checkpoints-flags-etc"></a>such as directory to load or save checkpoints, flags, etc.<a class="hash-link" href="#such-as-directory-to-load-or-save-checkpoints-flags-etc" title="Direct link to heading">#</a></h1><p>self.args = args</p><p>def save(self, checkpoint_state, index, force=False):</p><h1><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="trainer-calls-this-method-at-every-epoch-regardless-of-any"></a>Trainer calls this method at every epoch, regardless of any<a class="hash-link" href="#trainer-calls-this-method-at-every-epoch-regardless-of-any" title="Direct link to heading">#</a></h1><h1><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="arguments-set-and-thus-this-method-should-contain-all-logic-for"></a>arguments set, and thus this method should contain all logic for<a class="hash-link" href="#arguments-set-and-thus-this-method-should-contain-all-logic-for" title="Direct link to heading">#</a></h1><h1><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="how-where-and-when-a-checkpoint-needs-to-be-saved-when-called-users-can"></a>how, where, and when a checkpoint needs to be saved when called. Users can<a class="hash-link" href="#how-where-and-when-a-checkpoint-needs-to-be-saved-when-called-users-can" title="Direct link to heading">#</a></h1><h1><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="call-any-checkpointers-save-method-at-other-stages-of-the-training-lifecycle"></a>call any checkpointer&#x27;s save method at other stages of the training lifecycle<a class="hash-link" href="#call-any-checkpointers-save-method-at-other-stages-of-the-training-lifecycle" title="Direct link to heading">#</a></h1><h1><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="with-the-provided-hooks-and-are-encouraged-to-implement-all"></a>with the provided hooks, and are encouraged to implement all<a class="hash-link" href="#with-the-provided-hooks-and-are-encouraged-to-implement-all" title="Direct link to heading">#</a></h1><h1><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="checkpointing-logic-here-an-index-argument-is-required-and-can-be"></a>checkpointing logic here. An index argument is required, and can be<a class="hash-link" href="#checkpointing-logic-here-an-index-argument-is-required-and-can-be" title="Direct link to heading">#</a></h1><h1><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="used-to-create-a-unique-name-for-the-file-to-be-saved-or-as-part-of-the"></a>used to create a unique name for the file to be saved or as part of the<a class="hash-link" href="#used-to-create-a-unique-name-for-the-file-to-be-saved-or-as-part-of-the" title="Direct link to heading">#</a></h1><h1><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="checkpointing-logic-the-optional-force-flag-should-allow-disregarding"></a>checkpointing logic. The optional force flag should allow disregarding<a class="hash-link" href="#checkpointing-logic-the-optional-force-flag-should-allow-disregarding" title="Direct link to heading">#</a></h1><h1><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="any-custom-logic-implemented-so-as-to-ensure-trainer-can-save"></a>any custom logic implemented, so as to ensure Trainer can save<a class="hash-link" href="#any-custom-logic-implemented-so-as-to-ensure-trainer-can-save" title="Direct link to heading">#</a></h1><h1><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="the-last-epoch-when-training-and-checkpointing-is-enabled"></a>the last epoch when training and checkpointing is enabled.<a class="hash-link" href="#the-last-epoch-when-training-and-checkpointing-is-enabled" title="Direct link to heading">#</a></h1><h1><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="note-that-args-can-be-customized-to-form-save-path-in-any-way-required"></a>Note that args can be customized to form save path in any way required<a class="hash-link" href="#note-that-args-can-be-customized-to-form-save-path-in-any-way-required" title="Direct link to heading">#</a></h1><h1><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="where-to-save-the-checkpoint"></a>Where to save the checkpoint:<a class="hash-link" href="#where-to-save-the-checkpoint" title="Direct link to heading">#</a></h1><p>path = os.path.join(self.args.save<em>dir,
f&quot;{self.args.file_prefix}</em>{index}.{self.args.file_ext}&quot;)</p><h1><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="custom-logic-for-when-to-save-a-checkpoint-here"></a>Custom logic for when to save a checkpoint here<a class="hash-link" href="#custom-logic-for-when-to-save-a-checkpoint-here" title="Direct link to heading">#</a></h1><h1><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="when-to-save-the-checkpoint"></a>When to save the checkpoint:<a class="hash-link" href="#when-to-save-the-checkpoint" title="Direct link to heading">#</a></h1><p>if index % 5 == 0:</p><h1><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="how-to-save-the-checkpoint"></a>How to save the checkpoint:<a class="hash-link" href="#how-to-save-the-checkpoint" title="Direct link to heading">#</a></h1><p>torch.save(checkpoint_state, path)</p><p>def save_model(self, model_state, index):</p><h1><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="trainer-will-call-this-at-the-end-of-training"></a>Trainer will call this at the end of training.<a class="hash-link" href="#trainer-will-call-this-at-the-end-of-training" title="Direct link to heading">#</a></h1><h1><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="an-index-argument-is-required-to-create-a-unique-name-for-the-file"></a>An index argument is required to create a unique name for the file<a class="hash-link" href="#an-index-argument-is-required-to-create-a-unique-name-for-the-file" title="Direct link to heading">#</a></h1><h1><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="to-be-saved"></a>to be saved.<a class="hash-link" href="#to-be-saved" title="Direct link to heading">#</a></h1><h1><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="implement-this-method-if-you-wish-to-save-exclusively-the-moduleinterface-model"></a>Implement this method if you wish to save exclusively the ModuleInterface (model)<a class="hash-link" href="#implement-this-method-if-you-wish-to-save-exclusively-the-moduleinterface-model" title="Direct link to heading">#</a></h1><h1><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="state-at-the-end-of-training-as-with-save-this-is-called-automatically-by"></a>state at the end of training. As with save(), this is called automatically by<a class="hash-link" href="#state-at-the-end-of-training-as-with-save-this-is-called-automatically-by" title="Direct link to heading">#</a></h1><h1><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="trainer-but-can-be-used-at-other-stages-of-the-training-lifecycle-via-hooks"></a>Trainer, but can be used at other stages of the training lifecycle via hooks.<a class="hash-link" href="#trainer-but-can-be-used-at-other-stages-of-the-training-lifecycle-via-hooks" title="Direct link to heading">#</a></h1><p>if self.args.checkpoint and self.args.model<em>state_save_dir:
path = os.path.join(self.args.model_state_save_dir,
f&quot;{self.args.file_prefix}_model</em>{index}.{self.args.file_ext}&quot;)
torch.save(model_state, path)</p><p>def load(self):</p><h1><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="implements-logic-to-load-a-checkpointed-file-always-called"></a>Implements logic to load a checkpointed file. Always called<a class="hash-link" href="#implements-logic-to-load-a-checkpointed-file-always-called" title="Direct link to heading">#</a></h1><h1><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="upon-initialization-of-trainer-leverage-checkpointer-args"></a>upon initialization of Trainer. Leverage checkpointer args<a class="hash-link" href="#upon-initialization-of-trainer-leverage-checkpointer-args" title="Direct link to heading">#</a></h1><h1><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="to-implement-how-and-from-where-to-load-the-checkpointed-file-and"></a>to implement how and from where to load the checkpointed file, and<a class="hash-link" href="#to-implement-how-and-from-where-to-load-the-checkpointed-file-and" title="Direct link to heading">#</a></h1><h1><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="return-the-loaded-checkpoint-to-trainer-trainer-expects-a-checkpoint"></a>return the loaded checkpoint to Trainer. Trainer expects a Checkpoint<a class="hash-link" href="#return-the-loaded-checkpoint-to-trainer-trainer-expects-a-checkpoint" title="Direct link to heading">#</a></h1><h1><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="dataclass-instance-returned"></a>dataclass instance returned.<a class="hash-link" href="#dataclass-instance-returned" title="Direct link to heading">#</a></h1><p>if self.args.load_dir and self.args.load_filename:
path = os.path.join(self.args.load_dir,
self.args.load_filename)
return torch.load(path, map_location=torch.device(&#x27;cpu&#x27;))
else:
self.logger.warning(&#x27;No checkpointer loaded, check load_fir and load_filename are set.&#x27;)
return Checkpoint()</p><h1><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="create-instance-of-custom-checkpointer"></a>Create instance of custom checkpointer<a class="hash-link" href="#create-instance-of-custom-checkpointer" title="Direct link to heading">#</a></h1><p>my_args = MyCheckpointerArguments()
my_checkpointer = MyCheckpointer(my_args)</p><h1><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="pass-along-custom-checkpointer-to-trainer"></a>Pass along custom checkpointer to Trainer<a class="hash-link" href="#pass-along-custom-checkpointer-to-trainer" title="Direct link to heading">#</a></h1><p>trainer = Trainer(module=module_interface,
trainer_backend=trainer_backend,
args=trainer_args,
checkpointer=my_checkpointer)</p><p>Recall that these three methods are called automatically by :class:<code>~pymarlin.core.trainer.Trainer</code>:</p><ul><li><strong>load()</strong>: at :class:<code>~pymarlin.core.trainer.Trainer</code> inicialization, before training.</li><li><strong>save()</strong>: at the end of every epoch and once more after training with force=True.</li><li><strong>save_model()</strong>: at the end of training.</li></ul><p>Please review the :class:<code>~.AbstractCheckpointer</code> documentation for precise method signatures for
correctly interfacing with :class:<code>~pymarlin.core.trainer.Trainer</code> if creating a custom checkpointer.</p><p>To customize <em>what</em> is checkpointed as a part of the attributes of :class:<code>~.Checkpoint</code>, please
override the <strong>get_state()</strong> methods at
:func:<code>ModuleInterface.get_state() &amp;lt;pymarlin.core.module_interface.ModuleInterface.get_state&amp;gt;</code>,
:class:<code>Trainer.get_state() &amp;lt;pymarlin.core.trainer.Trainer.get_state&amp;gt;</code> and
:class:<code>TrainerBackend.get_state() &amp;lt;pymarlin.core.trainer.TrainerBackend.get_state&amp;gt;</code>.</p><p>For example, for :class:<code>Trainer.get_state() &amp;lt;pymarlin.core.trainer.Trainer.get_state&amp;gt;</code>:</p><p>.. code-block:: python</p><p>class MyTrainer(Trainer):
def <strong>init</strong>(self, module, args, trainer_backend, checkpointer):
super().<strong>init</strong>(module, args, trainer_backend, checkpointer)</p><p>def get_state(self) -&gt; dict:
state_dict = {
&quot;last_epoch&quot;: self.last_epoch,
&quot;optimizers&quot;: [optimizer.state_dict() for optimizer in self.optimizers],
&quot;schedulers&quot;: [scheduler.state_dict() for scheduler in self.schedulers],
&quot;args&quot;: self.args   # Adding something else we want to save
}
return state_dict</p><p>Please remember to also update <strong>update_state()</strong> methods if appropriate.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="defaultcheckpointerarguments-objects"></a>DefaultCheckpointerArguments Objects<a class="hash-link" href="#defaultcheckpointerarguments-objects" title="Direct link to heading">#</a></h2><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly python"><div tabindex="0" class="prism-code language-python codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token decorator annotation punctuation" style="color:rgb(199, 146, 234)">@dataclass</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">class</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(255, 203, 107)">DefaultCheckpointerArguments</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><p>Args for DefaultCheckpointer class.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="abstractcheckpointer-objects"></a>AbstractCheckpointer Objects<a class="hash-link" href="#abstractcheckpointer-objects" title="Direct link to heading">#</a></h2><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly python"><div tabindex="0" class="prism-code language-python codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token keyword" style="font-style:italic">class</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(255, 203, 107)">AbstractCheckpointer</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">ABC</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><p>Abstract class for a checkpointer.</p><p>To create a custom checkpointer, users must implement the abstract
methods of this class and pass along an instance to ModuleInterface.
Custom checkpointers can be used at other stages of the
training lifecycle via callbacks.</p><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="save"></a>save<a class="hash-link" href="#save" title="Direct link to heading">#</a></h4><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly python"><div tabindex="0" class="prism-code language-python codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">|</span><span class="token plain"> @abstractmethod</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">|</span><span class="token plain"> save</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">checkpoint_state</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> Checkpoint</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> index</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(130, 170, 255)">int</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> force</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> Optional</span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token builtin" style="color:rgb(130, 170, 255)">bool</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">-</span><span class="token operator" style="color:rgb(137, 221, 255)">&gt;</span><span class="token plain"> </span><span class="token boolean" style="color:rgb(255, 88, 116)">None</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><p>Creates a checkpoint by saving a Checkpoint dataclass containing any
relevant states.</p><p><strong>Arguments</strong>:</p><ul><li><code>checkpoint_state</code> <em>Checkpoint</em> - Checkpointed states.</li><li><code>index</code> <em>int</em> - Using epoch as index is suggested.</li><li><code>force</code> <em>bool, optional</em> - Saves checkpoint regardless of conditions
if args.checkpoint is set to True. Used to always checkpoint
models after the last epoch.</li></ul><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="save_model"></a>save_model<a class="hash-link" href="#save_model" title="Direct link to heading">#</a></h4><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly python"><div tabindex="0" class="prism-code language-python codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">|</span><span class="token plain"> save_model</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">model_state</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> Dict</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> index</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(130, 170, 255)">int</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">-</span><span class="token operator" style="color:rgb(137, 221, 255)">&gt;</span><span class="token plain"> </span><span class="token boolean" style="color:rgb(255, 88, 116)">None</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><p>Creates a model checkpoint by saving model state.</p><p><strong>Arguments</strong>:</p><ul><li><code>model_state</code> <em>Dict</em> - Model state as provided by ModuleInterface.</li><li><code>index</code> <em>int</em> - Number to use to create a unique filename.
Using epoch as index is suggested.</li></ul><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="load"></a>load<a class="hash-link" href="#load" title="Direct link to heading">#</a></h4><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly python"><div tabindex="0" class="prism-code language-python codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">|</span><span class="token plain"> @abstractmethod</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">|</span><span class="token plain"> load</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">-</span><span class="token operator" style="color:rgb(137, 221, 255)">&gt;</span><span class="token plain"> Checkpoint</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><p>Load and return a checkpointed file.</p><p>Implements logic to load a checkpointed file as configured
via args used when constructing the checkpointer object. Always called
upon initialization of Trainer.</p><p><strong>Returns</strong>:</p><ul><li><code>Checkpoint</code> - Checkpointed states.</li></ul><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="defaultcheckpointer-objects"></a>DefaultCheckpointer Objects<a class="hash-link" href="#defaultcheckpointer-objects" title="Direct link to heading">#</a></h2><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly python"><div tabindex="0" class="prism-code language-python codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token keyword" style="font-style:italic">class</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(255, 203, 107)">DefaultCheckpointer</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">AbstractCheckpointer</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><p>Default checkpointer implementation, implements AbstractCheckpointer and
contains a few helper functions for managing checkpointed files.</p><p>Must be initialized with DefaultCheckpointerArguments. The argument&#x27;s values
affect checkpointing as follows:</p><p>checkpoint: Flag indicating whether to checkpoint model when save()
is called. Other conditions are implemented within save(), allowing this
method to always be called within training loops and abstracting the
checkpointing logic out of Trainer and implemented in this class.
delete<em>existing_checkpoints: Flag indicating whether to delete checkpoints
under save_dir before training. New checkpoints are saved regardless.
period: Period of index at which to checkpoint model. Evaluates
index % period == 0. This function is called with index set to the
epoch, and thus checkpoints every &quot;period&quot; number of epochs. The last
epoch is always checkpointed regardless.
save_dir: Path to directory where checkpoints are to be stored. Creates
folder if it does not exist.
model_state_save_dir: Path to directory where checkpointed models are to
be stored. Creates folder if it does not exist.
load_dir: Path to directory where checkpoints are to be loaded from.
If not set, will not attempt to load a checkpoint. If load_filename
is set, will search for this filename within the directory to load it.
If load_filename is not set, will load the file via get_latest_file().
load_filename: Filename of checkpoint to load under load_dir, overrides
automatic loading via get_latest_file().
file_prefix: Prefix of the checkpoint filename. Final filename to save
will be {file_prefix}</em>{index}.{file<em>ext}, or in the case of saving with
save_model(), {file_prefix}_mode</em>{index}.{file_ext}.
file_ext: File extension for the checkpoint filename when saving and when
searching under load_dir for loading via get_latest_file().
When cleaning save_dir via delete_existing_checkpoints=True, only files
with this extension are considered.
log_level: Logging level for checkpointer module (Default: &#x27;INFO&#x27;).</p><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="__init__"></a>__init__<a class="hash-link" href="#__init__" title="Direct link to heading">#</a></h4><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly python"><div tabindex="0" class="prism-code language-python codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">|</span><span class="token plain"> __init__</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">args</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> DefaultCheckpointerArguments</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><p>Initialize checkpointer and delete existing checkpointed files
under save_dir if delete_existing_checkpoints is set to True.</p><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="save-1"></a>save<a class="hash-link" href="#save-1" title="Direct link to heading">#</a></h4><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly python"><div tabindex="0" class="prism-code language-python codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">|</span><span class="token plain"> save</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">checkpoint_state</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> Checkpoint</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> index</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(130, 170, 255)">int</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> force</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token boolean" style="color:rgb(255, 88, 116)">False</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">-</span><span class="token operator" style="color:rgb(137, 221, 255)">&gt;</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(130, 170, 255)">str</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><p>Creates a checkpoint by saving a Checkpoint dataclass containing any
relevant states as a python Dict.</p><p>Evaluates conditions and, if met, saves a provided dataclass
which should contain any states that users require to save as
part of a checkpoint under args.save_dir. An additional index
argument is required to create a unique name for the file to be
saved. The optional force flag will disregard conditions other
than the checkpoint flag that enables this behavior. The condition
for saving with DefaultCheckpointer is index being a multiple
of the args.period.</p><p><strong>Arguments</strong>:</p><ul><li><code>checkpoint_state</code> <em>Checkpoint</em> - Checkpointed states.</li><li><code>index</code> <em>int</em> - Number to use to create a unique filename and
evaluate conditions for checkpointing. Using epoch as index
is suggested.</li><li><code>force</code> <em>bool, optional</em> - Saves checkpoint regardless of conditions
if args.checkpoint is set to True. Used to always checkpoint
states after the last epoch.</li></ul><p><strong>Returns</strong>:</p><ul><li><code>str</code> - Path to checkpointed file.</li></ul><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="save_model-1"></a>save_model<a class="hash-link" href="#save_model-1" title="Direct link to heading">#</a></h4><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly python"><div tabindex="0" class="prism-code language-python codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">|</span><span class="token plain"> save_model</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">model_state</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> Dict</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> index</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(130, 170, 255)">int</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">-</span><span class="token operator" style="color:rgb(137, 221, 255)">&gt;</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(130, 170, 255)">str</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><p>Checkpoints a model state, leveraging torch.save().</p><p>Evaluates if checkpointing is enabled and if a model save directory
has been set, and saves a provided model state. An additional index
argument is required to create a unique name for the file to be
saved.</p><p><strong>Arguments</strong>:</p><ul><li><code>model_state</code> <em>Dict</em> - Model state as provided by ModuleInterface.</li><li><code>index</code> <em>int</em> - Number to use to create a unique filename.
Using epoch as index is suggested.</li></ul><p><strong>Returns</strong>:</p><ul><li><code>str</code> - Path to checkpointed file.</li></ul><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="load-1"></a>load<a class="hash-link" href="#load-1" title="Direct link to heading">#</a></h4><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly python"><div tabindex="0" class="prism-code language-python codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">|</span><span class="token plain"> load</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">-</span><span class="token operator" style="color:rgb(137, 221, 255)">&gt;</span><span class="token plain"> Checkpoint</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><p>Attempt to load and return a checkpointed file leveraging torch.load().
The checkpoined file is assumed to be created with save() and thus be
a python Dict.</p><p>This method is always called upon initialization of Trainer.
Searches for and attempts to load a checkpointed file based on
args. If no load_dir is set, returns None. If a load_dir and
load_filename have been set, the file &quot;load_filename&quot; under
load_dir is directly loaded (the filename must include extension).
If only load_dir is set, get_latest_file() is called to seach the
folder for the file with the largest integer (index) in its filename,
and returns that path for loading.</p><p><strong>Returns</strong>:</p><ul><li><code>Checkpoint</code> - Checkpointed states.</li></ul><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="get_latest_file"></a>get_latest_file<a class="hash-link" href="#get_latest_file" title="Direct link to heading">#</a></h4><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly python"><div tabindex="0" class="prism-code language-python codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">|</span><span class="token plain"> @</span><span class="token builtin" style="color:rgb(130, 170, 255)">staticmethod</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">|</span><span class="token plain"> get_latest_file</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">load_dir</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(130, 170, 255)">str</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> file_prefix</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(130, 170, 255)">str</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> file_ext</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(130, 170, 255)">str</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;pt&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> logger</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain">getlogger</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">__name__</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">-</span><span class="token operator" style="color:rgb(137, 221, 255)">&gt;</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(130, 170, 255)">str</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><p>Get the path to the last checkpointed file.</p><p>Find and return the path of the file with greatest number of
completed epochs under dirpath (recursive search) for a given file
prefix, and optionally file extension.</p><p><strong>Arguments</strong>:</p><ul><li><code>load_dir</code> <em>str</em> - Directory under which to search for
checkpointed files.</li><li><code>file_prefix</code> <em>str</em> - Prefix to match for when searching
for candidate files.</li><li><code>file_ext</code> <em>str, optional</em> - File extension to consider
when searching.</li></ul><p><strong>Returns</strong>:</p><ul><li><code>str</code> - Path to latest checkpointed file.</li></ul><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="check_mk_dir"></a>check_mk_dir<a class="hash-link" href="#check_mk_dir" title="Direct link to heading">#</a></h4><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly python"><div tabindex="0" class="prism-code language-python codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">|</span><span class="token plain"> check_mk_dir</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">dirpath</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(130, 170, 255)">str</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">-</span><span class="token operator" style="color:rgb(137, 221, 255)">&gt;</span><span class="token plain"> </span><span class="token boolean" style="color:rgb(255, 88, 116)">None</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><p>Check if the path exists, and if it doesn&#x27;t creates it.</p><p><strong>Arguments</strong>:</p><ul><li><code>dirpath</code> <em>str</em> - Directory under which to search for
checkpointed files.</li></ul></div></article><div class="margin-vert--xl"><div class="row"><div class="col"><a href="https://github.com/microsoft/PyMarlin/edit/master/website/docs/reference/utils/checkpointer/checkpoint_utils.md" target="_blank" rel="noreferrer noopener"><svg fill="currentColor" height="1.2em" width="1.2em" preserveAspectRatio="xMidYMid meet" role="img" viewBox="0 0 40 40" class="iconEdit_2_ui" aria-label="Edit page"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div></div></div><div class="margin-vert--lg"><nav class="pagination-nav" aria-label="Docs pages navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/docs/reference/core/trainer_backend"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Â« core.trainer_backend</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/docs/reference/utils/config_parser/custom_arg_parser"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">utils.config_parser.custom_arg_parser Â»</div></a></div></nav></div></div></div><div class="col col--3"><div class="tableOfContents_35-E thin-scrollbar"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#defaultcheckpointerarguments-objects" class="table-of-contents__link">DefaultCheckpointerArguments Objects</a></li><li><a href="#abstractcheckpointer-objects" class="table-of-contents__link">AbstractCheckpointer Objects</a></li><li><a href="#defaultcheckpointer-objects" class="table-of-contents__link">DefaultCheckpointer Objects</a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container"><div class="row footer__links"><div class="col footer__col"><h4 class="footer__title">Docs</h4><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/docs/getting-started">Getting Started</a></li></ul></div><div class="col footer__col"><h4 class="footer__title">Community</h4><ul class="footer__items"><li class="footer__item"><a href="https://stackoverflow.com/questions/tagged/docusaurus" target="_blank" rel="noopener noreferrer" class="footer__link-item">Stack Overflow</a></li><li class="footer__item"><a href="https://discordapp.com/invite/docusaurus" target="_blank" rel="noopener noreferrer" class="footer__link-item">Discord</a></li><li class="footer__item"><a href="https://twitter.com/docusaurus" target="_blank" rel="noopener noreferrer" class="footer__link-item">Twitter</a></li></ul></div><div class="col footer__col"><h4 class="footer__title">More</h4><ul class="footer__items"><li class="footer__item"><a href="https://github.com/microsoft/PyMarlin" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub</a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright Â© 2021 Microsoft Inc. Built with Docusaurus.</div></div></div></footer></div>
<script src="/assets/js/runtime~main.9b16cd66.js"></script>
<script src="/assets/js/main.2fcd27a3.js"></script>
</body>
</html>